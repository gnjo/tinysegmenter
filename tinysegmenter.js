// TinySegmenter 0.1 -- Super compact Japanese tokenizer in Javascript
// (c) 2008 Taku Kudo <taku@chasen.org>
// TinySegmenter is freely distributable under the terms of a new BSD licence.
// For details, see http://chasen.org/~taku/software/TinySegmenter/LICENCE.txt

function TinySegmenter() {
  var patterns = {
    "[荳莠御ｸ牙屁莠泌�荳��荵晏香逋ｾ蜊�ｸ�т蜈�]":"M",
    "[荳-鮴�縲��Ψ繝ｶ]":"H",
    "[縺�-繧転":"I",
    "[繧｡-繝ｴ繝ｼ�ｱ-�晢ｾ橸ｽｰ]":"K",
    "[a-zA-Z��-�夲ｼ｡-�ｺ]":"A",
    "[0-9��-�兢":"N"
  }
  this.chartype_ = [];
  for (var i in patterns) {
    var regexp = new RegExp;
    regexp.compile(i)
    this.chartype_.push([regexp, patterns[i]]);
  }

  this.BIAS__ = -332
  this.BC1__ = {"HH":6,"II":2461,"KH":406,"OH":-1378};
  this.BC2__ = {"AA":-3267,"AI":2744,"AN":-878,"HH":-4070,"HM":-1711,"HN":4012,"HO":3761,"IA":1327,"IH":-1184,"II":-1332,"IK":1721,"IO":5492,"KI":3831,"KK":-8741,"MH":-3132,"MK":3334,"OO":-2920};
  this.BC3__ = {"HH":996,"HI":626,"HK":-721,"HN":-1307,"HO":-836,"IH":-301,"KK":2762,"MK":1079,"MM":4034,"OA":-1652,"OH":266};
  this.BP1__ = {"BB":295,"OB":304,"OO":-125,"UB":352};
  this.BP2__ = {"BO":60,"OO":-1762};
  this.BQ1__ = {"BHH":1150,"BHM":1521,"BII":-1158,"BIM":886,"BMH":1208,"BNH":449,"BOH":-91,"BOO":-2597,"OHI":451,"OIH":-296,"OKA":1851,"OKH":-1020,"OKK":904,"OOO":2965};
  this.BQ2__ = {"BHH":118,"BHI":-1159,"BHM":466,"BIH":-919,"BKK":-1720,"BKO":864,"OHH":-1139,"OHM":-181,"OIH":153,"UHI":-1146};
  this.BQ3__ = {"BHH":-792,"BHI":2664,"BII":-299,"BKI":419,"BMH":937,"BMM":8335,"BNN":998,"BOH":775,"OHH":2174,"OHM":439,"OII":280,"OKH":1798,"OKI":-793,"OKO":-2242,"OMH":-2402,"OOO":11699};
  this.BQ4__ = {"BHH":-3895,"BIH":3761,"BII":-4654,"BIK":1348,"BKK":-1806,"BMI":-3385,"BOO":-12396,"OAH":926,"OHH":266,"OHK":-2036,"ONN":-973};
  this.BW1__ = {",縺ｨ":660,",蜷�":727,"B1縺�":1404,"B1蜷�":542,"縲√→":660,"縲∝酔":727,"縲阪→":1682,"縺ゅ▲":1505,"縺�≧":1743,"縺�▲":-2055,"縺�ｋ":672,"縺�＠":-4817,"縺�ｓ":665,"縺九ｉ":3472,"縺後ｉ":600,"縺薙≧":-790,"縺薙→":2083,"縺薙ｓ":-1262,"縺輔ｉ":-4143,"縺輔ｓ":4573,"縺励◆":2641,"縺励※":1104,"縺吶〒":-3399,"縺昴％":1977,"縺昴ｌ":-871,"縺溘■":1122,"縺溘ａ":601,"縺｣縺�":3463,"縺､縺�":-802,"縺ｦ縺�":805,"縺ｦ縺�":1249,"縺ｧ縺�":1127,"縺ｧ縺�":3445,"縺ｧ縺ｯ":844,"縺ｨ縺�":-4915,"縺ｨ縺ｿ":1922,"縺ｩ縺�":3887,"縺ｪ縺�":5713,"縺ｪ縺｣":3015,"縺ｪ縺ｩ":7379,"縺ｪ繧�":-1113,"縺ｫ縺�":2468,"縺ｫ縺ｯ":1498,"縺ｫ繧�":1671,"縺ｫ蟇ｾ":-912,"縺ｮ荳":-501,"縺ｮ荳ｭ":741,"縺ｾ縺�":2448,"縺ｾ縺ｧ":1711,"縺ｾ縺ｾ":2600,"縺ｾ繧�":-2155,"繧��":-1947,"繧医▲":-2565,"繧後◆":2369,"繧後〒":-913,"繧偵＠":1860,"繧定ｦ�":731,"莠｡縺�":-1886,"莠ｬ驛ｽ":2558,"蜿悶ｊ":-2784,"螟ｧ縺�":-2604,"螟ｧ髦ｪ":1497,"蟷ｳ譁ｹ":-2314,"蠑輔″":-1336,"譌･譛ｬ":-195,"譛ｬ蠖�":-2423,"豈取律":-2113,"逶ｮ謖�":-724,"�｢�代≠":1404,"�｢�大酔":542,"�｣縺ｨ":1682};
  this.BW2__ = {"..":-11822,"11":-669,"窶補�":-5730,"竏停�":-13175,"縺�≧":-1609,"縺�°":2490,"縺九＠":-1350,"縺九ｂ":-602,"縺九ｉ":-7194,"縺九ｌ":4612,"縺後＞":853,"縺後ｉ":-3198,"縺阪◆":1941,"縺上↑":-1597,"縺薙→":-8392,"縺薙�":-4193,"縺輔○":4533,"縺輔ｌ":13168,"縺輔ｓ":-3977,"縺励＞":-1819,"縺励°":-545,"縺励◆":5078,"縺励※":972,"縺励↑":939,"縺昴�":-3744,"縺溘＞":-1253,"縺溘◆":-662,"縺溘□":-3857,"縺溘■":-786,"縺溘→":1224,"縺溘�":-939,"縺｣縺�":4589,"縺｣縺ｦ":1647,"縺｣縺ｨ":-2094,"縺ｦ縺�":6144,"縺ｦ縺�":3640,"縺ｦ縺�":2551,"縺ｦ縺ｯ":-3110,"縺ｦ繧�":-3065,"縺ｧ縺�":2666,"縺ｧ縺�":-1528,"縺ｧ縺�":-3828,"縺ｧ縺�":-4761,"縺ｧ繧�":-4203,"縺ｨ縺�":1890,"縺ｨ縺�":-1746,"縺ｨ縺ｨ":-2279,"縺ｨ縺ｮ":720,"縺ｨ縺ｿ":5168,"縺ｨ繧�":-3941,"縺ｪ縺�":-2488,"縺ｪ縺�":-1313,"縺ｪ縺ｩ":-6509,"縺ｪ縺ｮ":2614,"縺ｪ繧�":3099,"縺ｫ縺�":-1615,"縺ｫ縺�":2748,"縺ｫ縺ｪ":2454,"縺ｫ繧�":-7236,"縺ｫ蟇ｾ":-14943,"縺ｫ蠕�":-4688,"縺ｫ髢｢":-11388,"縺ｮ縺�":2093,"縺ｮ縺ｧ":-7059,"縺ｮ縺ｫ":-6041,"縺ｮ縺ｮ":-6125,"縺ｯ縺�":1073,"縺ｯ縺�":-1033,"縺ｯ縺�":-2532,"縺ｰ繧�":1813,"縺ｾ縺�":-1316,"縺ｾ縺ｧ":-6621,"縺ｾ繧�":5409,"繧√※":-3153,"繧ゅ＞":2230,"繧ゅ�":-10713,"繧峨°":-944,"繧峨＠":-1611,"繧峨↓":-1897,"繧翫＠":651,"繧翫∪":1620,"繧後◆":4270,"繧後※":849,"繧後�":4114,"繧阪≧":6067,"繧上ｌ":7901,"繧帝�":-11877,"繧薙□":728,"繧薙↑":-4115,"荳莠ｺ":602,"荳譁ｹ":-1375,"荳譌･":970,"荳驛ｨ":-1051,"荳翫′":-4479,"莨夂､ｾ":-1116,"蜃ｺ縺ｦ":2163,"蛻��":-7758,"蜷悟�":970,"蜷梧律":-913,"螟ｧ髦ｪ":-2471,"蟋泌藤":-1250,"蟆代↑":-1050,"蟷ｴ蠎ｦ":-8669,"蟷ｴ髢�":-1626,"蠎懃恁":-2363,"謇区ｨｩ":-1982,"譁ｰ閨�":-4066,"譌･譁ｰ":-722,"譌･譛ｬ":-7068,"譌･邀ｳ":3372,"譖懈律":-601,"譛晞ｮｮ":-2355,"譛ｬ莠ｺ":-2697,"譚ｱ莠ｬ":-1543,"辟ｶ縺ｨ":-1384,"遉ｾ莨�":-1276,"遶九※":-990,"隨ｬ縺ｫ":-1612,"邀ｳ蝗ｽ":-4268,"�托ｼ�":-669};
  this.BW3__ = {"縺ゅ◆":-2194,"縺ゅｊ":719,"縺ゅｋ":3846,"縺�.":-1185,"縺��":-1185,"縺�＞":5308,"縺�∴":2079,"縺�￥":3029,"縺�◆":2056,"縺�▲":1883,"縺�ｋ":5600,"縺�ｏ":1527,"縺�■":1117,"縺�→":4798,"縺医→":1454,"縺�.":2857,"縺九�":2857,"縺九￠":-743,"縺九▲":-4098,"縺九↓":-669,"縺九ｉ":6520,"縺九ｊ":-2670,"縺�,":1816,"縺後�":1816,"縺後″":-4855,"縺後￠":-1127,"縺後▲":-913,"縺後ｉ":-4977,"縺後ｊ":-2064,"縺阪◆":1645,"縺代←":1374,"縺薙→":7397,"縺薙�":1542,"縺薙ｍ":-2757,"縺輔＞":-714,"縺輔ｒ":976,"縺�,":1557,"縺励�":1557,"縺励＞":-3714,"縺励◆":3562,"縺励※":1449,"縺励↑":2608,"縺励∪":1200,"縺�.":-1310,"縺吶�":-1310,"縺吶ｋ":6521,"縺�,":3426,"縺壹�":3426,"縺壹↓":841,"縺昴≧":428,"縺�.":8875,"縺溘�":8875,"縺溘＞":-594,"縺溘�":812,"縺溘ｊ":-1183,"縺溘ｋ":-853,"縺�.":4098,"縺�縲�":4098,"縺�縺｣":1004,"縺｣縺�":-4748,"縺｣縺ｦ":300,"縺ｦ縺�":6240,"縺ｦ縺�":855,"縺ｦ繧�":302,"縺ｧ縺�":1437,"縺ｧ縺ｫ":-1482,"縺ｧ縺ｯ":2295,"縺ｨ縺�":-1387,"縺ｨ縺�":2266,"縺ｨ縺ｮ":541,"縺ｨ繧�":-3543,"縺ｩ縺�":4664,"縺ｪ縺�":1796,"縺ｪ縺�":-903,"縺ｪ縺ｩ":2135,"縺ｫ,":-1021,"縺ｫ縲�":-1021,"縺ｫ縺�":1771,"縺ｫ縺ｪ":1906,"縺ｫ縺ｯ":2644,"縺ｮ,":-724,"縺ｮ縲�":-724,"縺ｮ蟄�":-1000,"縺ｯ,":1337,"縺ｯ縲�":1337,"縺ｹ縺�":2181,"縺ｾ縺�":1113,"縺ｾ縺�":6943,"縺ｾ縺｣":-1549,"縺ｾ縺ｧ":6154,"縺ｾ繧�":-793,"繧峨＠":1479,"繧峨ｌ":6820,"繧九ｋ":3818,"繧�,":854,"繧後�":854,"繧後◆":1850,"繧後※":1375,"繧後�":-3246,"繧後ｋ":1091,"繧上ｌ":-605,"繧薙□":606,"繧薙〒":798,"繧ｫ譛�":990,"莨夊ｭｰ":860,"蜈･繧�":1232,"螟ｧ莨�":2217,"蟋九ａ":1681,"蟶�":965,"譁ｰ閨�":-5055,"譌･,":974,"譌･縲�":974,"遉ｾ莨�":2024,"�ｶ譛�":990};
  this.TC1__ = {"AAA":1093,"HHH":1029,"HHM":580,"HII":998,"HOH":-390,"HOM":-331,"IHI":1169,"IOH":-142,"IOI":-1015,"IOM":467,"MMH":187,"OOI":-1832};
  this.TC2__ = {"HHO":2088,"HII":-1023,"HMM":-1154,"IHI":-1965,"KKH":703,"OII":-2649};
  this.TC3__ = {"AAA":-294,"HHH":346,"HHI":-341,"HII":-1088,"HIK":731,"HOH":-1486,"IHH":128,"IHI":-3041,"IHO":-1935,"IIH":-825,"IIM":-1035,"IOI":-542,"KHH":-1216,"KKA":491,"KKH":-1217,"KOK":-1009,"MHH":-2694,"MHM":-457,"MHO":123,"MMH":-471,"NNH":-1689,"NNO":662,"OHO":-3393};
  this.TC4__ = {"HHH":-203,"HHI":1344,"HHK":365,"HHM":-122,"HHN":182,"HHO":669,"HIH":804,"HII":679,"HOH":446,"IHH":695,"IHO":-2324,"IIH":321,"III":1497,"IIO":656,"IOO":54,"KAK":4845,"KKA":3386,"KKK":3065,"MHH":-405,"MHI":201,"MMH":-241,"MMM":661,"MOM":841};
  this.TQ1__ = {"BHHH":-227,"BHHI":316,"BHIH":-132,"BIHH":60,"BIII":1595,"BNHH":-744,"BOHH":225,"BOOO":-908,"OAKK":482,"OHHH":281,"OHIH":249,"OIHI":200,"OIIH":-68};
  this.TQ2__ = {"BIHH":-1401,"BIII":-1033,"BKAK":-543,"BOOO":-5591};
  this.TQ3__ = {"BHHH":478,"BHHM":-1073,"BHIH":222,"BHII":-504,"BIIH":-116,"BIII":-105,"BMHI":-863,"BMHM":-464,"BOMH":620,"OHHH":346,"OHHI":1729,"OHII":997,"OHMH":481,"OIHH":623,"OIIH":1344,"OKAK":2792,"OKHH":587,"OKKA":679,"OOHH":110,"OOII":-685};
  this.TQ4__ = {"BHHH":-721,"BHHM":-3604,"BHII":-966,"BIIH":-607,"BIII":-2181,"OAAA":-2763,"OAKK":180,"OHHH":-294,"OHHI":2446,"OHHO":480,"OHIH":-1573,"OIHH":1935,"OIHI":-493,"OIIH":626,"OIII":-4007,"OKAK":-8156};
  this.TW1__ = {"縺ｫ縺､縺�":-4681,"譚ｱ莠ｬ驛ｽ":2026};
  this.TW2__ = {"縺ゅｋ遞�":-2049,"縺�▲縺�":-1256,"縺薙ｍ縺�":-2434,"縺励ｇ縺�":3873,"縺昴�蠕�":-4430,"縺�縺｣縺ｦ":-1049,"縺ｦ縺�◆":1833,"縺ｨ縺励※":-4657,"縺ｨ繧ゅ↓":-4517,"繧ゅ�縺ｧ":1882,"荳豌励↓":-792,"蛻昴ａ縺ｦ":-1512,"蜷梧凾縺ｫ":-8097,"螟ｧ縺阪↑":-1255,"蟇ｾ縺励※":-2721,"遉ｾ莨壼�":-3216};
  this.TW3__ = {"縺�◆縺�":-1734,"縺励※縺�":1314,"縺ｨ縺励※":-4314,"縺ｫ縺､縺�":-5483,"縺ｫ縺ｨ縺｣":-5989,"縺ｫ蠖薙◆":-6247,"縺ｮ縺ｧ,":-727,"縺ｮ縺ｧ縲�":-727,"縺ｮ繧ゅ�":-600,"繧後°繧�":-3752,"蜊∽ｺ梧怦":-2287};
  this.TW4__ = {"縺�≧.":8576,"縺�≧縲�":8576,"縺九ｉ縺ｪ":-2348,"縺励※縺�":2958,"縺溘′,":1516,"縺溘′縲�":1516,"縺ｦ縺�ｋ":1538,"縺ｨ縺�≧":1349,"縺ｾ縺励◆":5543,"縺ｾ縺帙ｓ":1097,"繧医≧縺ｨ":-4258,"繧医ｋ縺ｨ":5865};
  this.UC1__ = {"A":484,"K":93,"M":645,"O":-505};
  this.UC2__ = {"A":819,"H":1059,"I":409,"M":3987,"N":5775,"O":646};
  this.UC3__ = {"A":-1370,"I":2311};
  this.UC4__ = {"A":-2643,"H":1809,"I":-1032,"K":-3450,"M":3565,"N":3876,"O":6646};
  this.UC5__ = {"H":313,"I":-1238,"K":-799,"M":539,"O":-831};
  this.UC6__ = {"H":-506,"I":-253,"K":87,"M":247,"O":-387};
  this.UP1__ = {"O":-214};
  this.UP2__ = {"B":69,"O":935};
  this.UP3__ = {"B":189};
  this.UQ1__ = {"BH":21,"BI":-12,"BK":-99,"BN":142,"BO":-56,"OH":-95,"OI":477,"OK":410,"OO":-2422};
  this.UQ2__ = {"BH":216,"BI":113,"OK":1759};
  this.UQ3__ = {"BA":-479,"BH":42,"BI":1913,"BK":-7198,"BM":3160,"BN":6427,"BO":14761,"OI":-827,"ON":-3212};
  this.UW1__ = {",":156,"縲�":156,"縲�":-463,"縺�":-941,"縺�":-127,"縺�":-553,"縺�":121,"縺�":505,"縺ｧ":-201,"縺ｨ":-547,"縺ｩ":-123,"縺ｫ":-789,"縺ｮ":-185,"縺ｯ":-847,"繧�":-466,"繧�":-470,"繧�":182,"繧�":-292,"繧�":208,"繧�":169,"繧�":-446,"繧�":-137,"繝ｻ":-135,"荳ｻ":-402,"莠ｬ":-268,"蛹ｺ":-912,"蜊�":871,"蝗ｽ":-460,"螟ｧ":561,"蟋�":729,"蟶�":-411,"譌･":-141,"逅�":361,"逕�":-408,"逵�":-386,"驛ｽ":-718,"�｢":-463,"�･":-135};
  this.UW2__ = {",":-829,"縲�":-829,"縲�":892,"縲�":-645,"縲�":3145,"縺�":-538,"縺�":505,"縺�":134,"縺�":-502,"縺�":1454,"縺�":-856,"縺�":-412,"縺�":1141,"縺�":878,"縺�":540,"縺�":1529,"縺�":-675,"縺�":300,"縺�":-1011,"縺�":188,"縺�":1837,"縺､":-949,"縺ｦ":-291,"縺ｧ":-268,"縺ｨ":-981,"縺ｩ":1273,"縺ｪ":1063,"縺ｫ":-1764,"縺ｮ":130,"縺ｯ":-409,"縺ｲ":-1273,"縺ｹ":1261,"縺ｾ":600,"繧�":-1263,"繧�":-402,"繧�":1639,"繧�":-579,"繧�":-694,"繧�":571,"繧�":-2516,"繧�":2095,"繧｢":-587,"繧ｫ":306,"繧ｭ":568,"繝�":831,"荳�":-758,"荳�":-2150,"荳�":-302,"荳ｭ":-968,"荳ｻ":-861,"莠�":492,"莠ｺ":-123,"莨�":978,"菫�":362,"蜈･":548,"蛻�":-3025,"蜑ｯ":-1566,"蛹�":-3414,"蛹ｺ":-422,"螟ｧ":-1769,"螟ｩ":-865,"螟ｪ":-483,"蟄�":-1519,"蟄ｦ":760,"螳�":1023,"蟆�":-2009,"蟶�":-813,"蟷ｴ":-1060,"蠑ｷ":1067,"謇�":-1519,"謠ｺ":-1033,"謾ｿ":1522,"譁�":-1355,"譁ｰ":-1682,"譌･":-1815,"譏�":-1462,"譛":-630,"譛�":-1843,"譛ｬ":-1650,"譚ｱ":-931,"譫�":-665,"谺｡":-2378,"豌�":-180,"豌�":-1740,"逅�":752,"逋ｺ":529,"逶ｮ":-1584,"逶ｸ":-242,"逵�":-1165,"遶�":-763,"隨ｬ":810,"邀ｳ":509,"閾ｪ":-1353,"陦�":838,"隘ｿ":-744,"隕�":-3874,"隱ｿ":1010,"隴ｰ":1198,"霎ｼ":3041,"髢�":1758,"髢�":-1257,"�｢":-645,"�｣":3145,"�ｯ":831,"�ｱ":-587,"�ｶ":306,"�ｷ":568};
  this.UW3__ = {",":4889,"1":-800,"竏�":-1723,"縲�":4889,"縲�":-2311,"縲�":5827,"縲�":2670,"縲�":-3573,"縺�":-2696,"縺�":1006,"縺�":2342,"縺�":1983,"縺�":-4864,"縺�":-1163,"縺�":3271,"縺�":1004,"縺�":388,"縺�":401,"縺�":-3552,"縺�":-3116,"縺�":-1058,"縺�":-395,"縺�":584,"縺�":3685,"縺�":-5228,"縺�":842,"縺｡":-521,"縺｣":-1444,"縺､":-1081,"縺ｦ":6167,"縺ｧ":2318,"縺ｨ":1691,"縺ｩ":-899,"縺ｪ":-2788,"縺ｫ":2745,"縺ｮ":4056,"縺ｯ":4555,"縺ｲ":-2171,"縺ｵ":-1798,"縺ｸ":1199,"縺ｻ":-5516,"縺ｾ":-4384,"縺ｿ":-120,"繧�":1205,"繧�":2323,"繧�":-788,"繧�":-202,"繧�":727,"繧�":649,"繧�":5905,"繧�":2773,"繧�":-1207,"繧�":6620,"繧�":-518,"繧｢":551,"繧ｰ":1319,"繧ｹ":874,"繝�":-1350,"繝�":521,"繝�":1109,"繝ｫ":1591,"繝ｭ":2201,"繝ｳ":278,"繝ｻ":-3794,"荳":-1619,"荳�":-1759,"荳�":-2087,"荳｡":3815,"荳ｭ":653,"荳ｻ":-758,"莠�":-1193,"莠�":974,"莠ｺ":2742,"莉�":792,"莉�":1889,"莉･":-1368,"菴�":811,"菴�":4265,"菴�":-361,"菫�":-2439,"蜈�":4858,"蜈�":3593,"蜈ｨ":1574,"蜈ｬ":-3030,"蜈ｭ":755,"蜈ｱ":-1880,"蜀�":5807,"蜀�":3095,"蛻�":457,"蛻�":2475,"蛻･":1129,"蜑�":2286,"蜑ｯ":4437,"蜉�":365,"蜍�":-949,"蜍�":-1872,"蛹�":1327,"蛹�":-1038,"蛹ｺ":4646,"蜊�":-2309,"蜊�":-783,"蜊�":-1006,"蜿｣":483,"蜿ｳ":1233,"蜷�":3588,"蜷�":-241,"蜷�":3906,"蜥�":-837,"蜩｡":4513,"蝗ｽ":642,"蝙�":1389,"蝣ｴ":1219,"螟�":-241,"螯ｻ":2016,"蟄ｦ":-1356,"螳�":-423,"螳�":-1008,"螳ｶ":1078,"蟆�":-513,"蟆�":-3102,"蟾�":1155,"蟶�":3197,"蟷ｳ":-1804,"蟷ｴ":2416,"蠎�":-1030,"蠎�":1605,"蠎ｦ":1452,"蟒ｺ":-2352,"蠖�":-3885,"蠕�":1905,"諤�":-1291,"諤ｧ":1822,"謌ｸ":-488,"謖�":-3973,"謾ｿ":-2013,"謨�":-1479,"謨ｰ":3222,"譁�":-1489,"譁ｰ":1764,"譌･":2099,"譌ｧ":5792,"譏ｨ":-661,"譎�":-1248,"譖�":-951,"譛":-937,"譛�":4125,"譛�":360,"譚�":3094,"譚�":364,"譚ｱ":-805,"譬ｸ":5156,"譽ｮ":2438,"讌ｭ":484,"豌�":2613,"豌�":-1694,"豎ｺ":-1073,"豕�":1868,"豬ｷ":-495,"辟｡":979,"迚ｩ":461,"迚ｹ":-3850,"逕�":-273,"逕ｨ":914,"逕ｺ":1215,"逧�":7313,"逶ｴ":-1835,"逵�":792,"逵�":6293,"遏･":-1528,"遘�":4231,"遞�":401,"遶�":-960,"隨ｬ":1201,"邀ｳ":7767,"邉ｻ":3066,"邏�":3663,"邏�":1384,"邨ｱ":-4229,"邱�":1163,"邱�":1255,"閠�":6457,"閭ｽ":725,"閾ｪ":-2869,"闍ｱ":785,"隕�":1044,"隱ｿ":-562,"雋｡":-733,"雋ｻ":1777,"霆�":1835,"霆�":1375,"霎ｼ":-1504,"騾�":-1136,"驕ｸ":-681,"驛�":1026,"驛｡":4404,"驛ｨ":1200,"驥�":2163,"髟ｷ":421,"髢�":-1432,"髢�":1302,"髢｢":-1282,"髮ｨ":2009,"髮ｻ":-1045,"髱�":2066,"鬧�":1620,"��":-800,"�｣":2670,"�･":-3794,"�ｯ":-1350,"�ｱ":551,"�ｸ��":1319,"�ｽ":874,"��":521,"��":1109,"��":1591,"��":2201,"��":278};
  this.UW4__ = {",":3930,".":3508,"窶�":-4841,"縲�":3930,"縲�":3508,"縲�":4999,"縲�":1895,"縲�":3798,"縲�":-5156,"縺�":4752,"縺�":-3435,"縺�":-640,"縺�":-2514,"縺�":2405,"縺�":530,"縺�":6006,"縺�":-4482,"縺�":-3821,"縺�":-3788,"縺�":-4376,"縺�":-4734,"縺�":2255,"縺�":1979,"縺�":2864,"縺�":-843,"縺�":-2506,"縺�":-731,"縺�":1251,"縺�":181,"縺�":4091,"縺�":5034,"縺�":5408,"縺｡":-3654,"縺｣":-5882,"縺､":-1659,"縺ｦ":3994,"縺ｧ":7410,"縺ｨ":4547,"縺ｪ":5433,"縺ｫ":6499,"縺ｬ":1853,"縺ｭ":1413,"縺ｮ":7396,"縺ｯ":8578,"縺ｰ":1940,"縺ｲ":4249,"縺ｳ":-4134,"縺ｵ":1345,"縺ｸ":6665,"縺ｹ":-744,"縺ｻ":1464,"縺ｾ":1051,"縺ｿ":-2082,"繧":-882,"繧�":-5046,"繧�":4169,"繧�":-2666,"繧�":2795,"繧�":-1544,"繧�":3351,"繧�":-2922,"繧�":-9726,"繧�":-14896,"繧�":-2613,"繧�":-4570,"繧�":-1783,"繧�":13150,"繧�":-2352,"繧ｫ":2145,"繧ｳ":1789,"繧ｻ":1287,"繝�":-724,"繝�":-403,"繝｡":-1635,"繝ｩ":-881,"繝ｪ":-541,"繝ｫ":-856,"繝ｳ":-3637,"繝ｻ":-4371,"繝ｼ":-11870,"荳":-2069,"荳ｭ":2210,"莠�":782,"莠�":-190,"莠�":-1768,"莠ｺ":1036,"莉･":544,"莨�":950,"菴�":-1286,"菴�":530,"蛛ｴ":4292,"蜈�":601,"蜈�":-2006,"蜈ｱ":-1212,"蜀�":584,"蜀�":788,"蛻�":1347,"蜑�":1623,"蜑ｯ":3879,"蜉�":-302,"蜍�":-740,"蜍�":-2715,"蛹�":776,"蛹ｺ":4517,"蜊�":1013,"蜿�":1555,"蜷�":-1834,"蜥�":-681,"蜩｡":-910,"蝎ｨ":-851,"蝗�":1500,"蝗ｽ":-619,"蝨�":-1200,"蝨ｰ":866,"蝣ｴ":-1410,"蝪�":-2094,"螢ｫ":-1413,"螟�":1067,"螟ｧ":571,"蟄�":-4802,"蟄ｦ":-1397,"螳�":-1057,"蟇ｺ":-809,"蟆�":1910,"螻�":-1328,"螻ｱ":-1500,"蟲ｶ":-2056,"蟾�":-2667,"蟶�":2771,"蟷ｴ":374,"蠎�":-4556,"蠕�":456,"諤ｧ":553,"諢�":916,"謇":-1566,"謾ｯ":856,"謾ｹ":787,"謾ｿ":2182,"謨�":704,"譁�":522,"譁ｹ":-856,"譌･":1798,"譎�":1829,"譛":845,"譛�":-9066,"譛ｨ":-485,"譚･":-442,"譬｡":-360,"讌ｭ":-1043,"豌�":5388,"豌�":-2716,"豌�":-910,"豐｢":-939,"貂�":-543,"迚ｩ":-735,"邇�":672,"逅�":-1267,"逕�":-1286,"逕｣":-1101,"逕ｰ":-2900,"逕ｺ":1826,"逧�":2586,"逶ｮ":922,"逵�":-3485,"逵�":2997,"遨ｺ":-867,"遶�":-2112,"隨ｬ":788,"邀ｳ":2937,"邉ｻ":786,"邏�":2171,"邨�":1146,"邨ｱ":-1169,"邱�":940,"邱�":-994,"鄂ｲ":749,"閠�":2145,"閭ｽ":-730,"闊ｬ":-852,"陦�":-792,"隕�":792,"隴ｦ":-1184,"隴ｰ":-244,"隹ｷ":-1000,"雉�":730,"霆�":-1481,"霆�":1158,"霈ｪ":-1433,"霎ｼ":-3370,"霑�":929,"驕�":-1291,"驕ｸ":2596,"驛�":-4866,"驛ｽ":1192,"驥�":-1100,"驫":-2213,"髟ｷ":357,"髢�":-2344,"髯｢":-2297,"髫�":-2604,"髮ｻ":-878,"鬆�":-1659,"鬘�":-792,"鬢ｨ":-1984,"鬥�":1749,"鬮�":2120,"�｢":1895,"�｣":3798,"�･":-4371,"�ｯ":-724,"�ｰ":-11870,"�ｶ":2145,"�ｺ":1789,"�ｾ":1287,"��":-403,"��":-1635,"��":-881,"��":-541,"��":-856,"��":-3637};
  this.UW5__ = {",":465,".":-299,"1":-514,"E2":-32768,"]":-2762,"縲�":465,"縲�":-299,"縲�":363,"縺�":1655,"縺�":331,"縺�":-503,"縺�":1199,"縺�":527,"縺�":647,"縺�":-421,"縺�":1624,"縺�":1971,"縺�":312,"縺�":-983,"縺�":-1537,"縺�":-1371,"縺�":-852,"縺�":-1186,"縺｡":1093,"縺｣":52,"縺､":921,"縺ｦ":-18,"縺ｧ":-850,"縺ｨ":-127,"縺ｩ":1682,"縺ｪ":-787,"縺ｫ":-1224,"縺ｮ":-635,"縺ｯ":-578,"縺ｹ":1001,"縺ｿ":502,"繧�":865,"繧�":3350,"繧�":854,"繧�":-208,"繧�":429,"繧�":504,"繧�":419,"繧�":-1264,"繧�":327,"繧､":241,"繝ｫ":451,"繝ｳ":-343,"荳ｭ":-871,"莠ｬ":722,"莨�":-1153,"蜈�":-654,"蜍�":3519,"蛹ｺ":-901,"蜻�":848,"蜩｡":2104,"螟ｧ":-1296,"蟄ｦ":-548,"螳�":1785,"蠏�":-1304,"蟶�":-2991,"蟶ｭ":921,"蟷ｴ":1763,"諤�":872,"謇":-814,"謖�":1618,"譁ｰ":-1682,"譌･":218,"譛�":-4353,"譟ｻ":932,"譬ｼ":1356,"讖�":-1508,"豌�":-1347,"逕ｰ":240,"逕ｺ":-3912,"逧�":-3149,"逶ｸ":1319,"逵�":-1052,"逵�":-4003,"遐�":-997,"遉ｾ":-278,"遨ｺ":-813,"邨ｱ":1955,"閠�":-2233,"陦ｨ":663,"隱�":-1073,"隴ｰ":1219,"驕ｸ":-1018,"驛�":-368,"髟ｷ":786,"髢�":1191,"鬘�":2368,"鬢ｨ":-689,"��":-514,"�･��":-32768,"�｢":363,"�ｲ":241,"��":451,"��":-343};
  this.UW6__ = {",":227,".":808,"1":-270,"E1":306,"縲�":227,"縲�":808,"縺�":-307,"縺�":189,"縺�":241,"縺�":-73,"縺�":-121,"縺�":-200,"縺�":1782,"縺�":383,"縺�":-428,"縺｣":573,"縺ｦ":-1014,"縺ｧ":101,"縺ｨ":-105,"縺ｪ":-253,"縺ｫ":-149,"縺ｮ":-417,"縺ｯ":-236,"繧�":-206,"繧�":187,"繧�":-135,"繧�":195,"繝ｫ":-673,"繝ｳ":-496,"荳":-277,"荳ｭ":201,"莉ｶ":-800,"莨�":624,"蜑�":302,"蛹ｺ":1792,"蜩｡":-1212,"蟋�":798,"蟄ｦ":-960,"蟶�":887,"蠎�":-695,"蠕�":535,"讌ｭ":-697,"逶ｸ":753,"遉ｾ":-507,"遖�":974,"遨ｺ":-822,"閠�":1811,"騾｣":463,"驛�":1082,"��":-270,"�･��":306,"��":-673,"��":-496};
  
  return this;
}

TinySegmenter.prototype.ctype_ = function(str) {
  for (var i in this.chartype_) {
    if (str.match(this.chartype_[i][0])) {
      return this.chartype_[i][1];
    }
  }
  return "O";
}

TinySegmenter.prototype.ts_ = function(v) {
  if (v) { return v; }
  return 0;
}

TinySegmenter.prototype.segment = function(input) {
  if (input == null || input == undefined || input == "") {
    return [];
  }
  var result = [];
  var seg = ["B3","B2","B1"];
  var ctype = ["O","O","O"];
  var o = input.split("");
  for (i = 0; i < o.length; ++i) {
    seg.push(o[i]);
    ctype.push(this.ctype_(o[i]))
  }
  seg.push("E1");
  seg.push("E2");
  seg.push("E3");
  ctype.push("O");
  ctype.push("O");
  ctype.push("O");
  var word = seg[3];
  var p1 = "U";
  var p2 = "U";
  var p3 = "U";
  for (var i = 4; i < seg.length - 3; ++i) {
    var score = this.BIAS__;
    var w1 = seg[i-3];
    var w2 = seg[i-2];
    var w3 = seg[i-1];
    var w4 = seg[i];
    var w5 = seg[i+1];
    var w6 = seg[i+2];
    var c1 = ctype[i-3];
    var c2 = ctype[i-2];
    var c3 = ctype[i-1];
    var c4 = ctype[i];
    var c5 = ctype[i+1];
    var c6 = ctype[i+2];
    score += this.ts_(this.UP1__[p1]);
    score += this.ts_(this.UP2__[p2]);
    score += this.ts_(this.UP3__[p3]);
    score += this.ts_(this.BP1__[p1 + p2]);
    score += this.ts_(this.BP2__[p2 + p3]);
    score += this.ts_(this.UW1__[w1]);
    score += this.ts_(this.UW2__[w2]);
    score += this.ts_(this.UW3__[w3]);
    score += this.ts_(this.UW4__[w4]);
    score += this.ts_(this.UW5__[w5]);
    score += this.ts_(this.UW6__[w6]);
    score += this.ts_(this.BW1__[w2 + w3]);
    score += this.ts_(this.BW2__[w3 + w4]);
    score += this.ts_(this.BW3__[w4 + w5]);
    score += this.ts_(this.TW1__[w1 + w2 + w3]);
    score += this.ts_(this.TW2__[w2 + w3 + w4]);
    score += this.ts_(this.TW3__[w3 + w4 + w5]);
    score += this.ts_(this.TW4__[w4 + w5 + w6]);
    score += this.ts_(this.UC1__[c1]);
    score += this.ts_(this.UC2__[c2]);
    score += this.ts_(this.UC3__[c3]);
    score += this.ts_(this.UC4__[c4]);
    score += this.ts_(this.UC5__[c5]);
    score += this.ts_(this.UC6__[c6]);
    score += this.ts_(this.BC1__[c2 + c3]);
    score += this.ts_(this.BC2__[c3 + c4]);
    score += this.ts_(this.BC3__[c4 + c5]);
    score += this.ts_(this.TC1__[c1 + c2 + c3]);
    score += this.ts_(this.TC2__[c2 + c3 + c4]);
    score += this.ts_(this.TC3__[c3 + c4 + c5]);
    score += this.ts_(this.TC4__[c4 + c5 + c6]);
//  score += this.ts_(this.TC5__[c4 + c5 + c6]);    
    score += this.ts_(this.UQ1__[p1 + c1]);
    score += this.ts_(this.UQ2__[p2 + c2]);
    score += this.ts_(this.UQ3__[p3 + c3]);
    score += this.ts_(this.BQ1__[p2 + c2 + c3]);
    score += this.ts_(this.BQ2__[p2 + c3 + c4]);
    score += this.ts_(this.BQ3__[p3 + c2 + c3]);
    score += this.ts_(this.BQ4__[p3 + c3 + c4]);
    score += this.ts_(this.TQ1__[p2 + c1 + c2 + c3]);
    score += this.ts_(this.TQ2__[p2 + c2 + c3 + c4]);
    score += this.ts_(this.TQ3__[p3 + c1 + c2 + c3]);
    score += this.ts_(this.TQ4__[p3 + c2 + c3 + c4]);
    var p = "O";
    if (score > 0) {
      result.push(word);
      word = "";
      p = "B";
    }
    p1 = p2;
    p2 = p3;
    p3 = p;
    word += seg[i];
  }
  result.push(word);

  return result;
}
